<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tou Xiong Lor | Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&family=Kumar+One&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&family=Kulim+Park:ital,wght@0,200;0,300;0,400;0,600;0,700;1,200;1,300;1,400;1,600;1,700&family=Kumar+One&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./CSS/home.css" />
    <link rel="stylesheet" href="./CSS/card.css" />
    <link rel="stylesheet" href="./CSS/lightbulb.css" />
  </head>
  <body>
    <nav class="header-navbar">
      <div class="logo">
        <a href="#">TXL</a>
      </div>
      <div class="links">
        <a href="#bio">About</a>
        <a href="#experiences">Experience</a>
        <a href="#projects">Projects</a>
      </div>
      <div class="icons">
        <input type="checkbox" id="toggle" class="toggle" />
        <div class="display">
          <label for="toggle">
            <div class="circle">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="sun"
              >
                <path
                  d="M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM18.894 6.166a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM17.834 18.894a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 1 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59ZM6 12a.75.75 0 0 1-.75.75H3a.75.75 0 0 1 0-1.5h2.25A.75.75 0 0 1 6 12ZM6.697 7.757a.75.75 0 0 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591Z"
                />
              </svg>

              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="moon"
              >
                <path
                  fill-rule="evenodd"
                  d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z"
                  clip-rule="evenodd"
                />
              </svg>
            </div>
          </label>
        </div>
        <a href="https://www.instagram.com/tou_xlor/" target="_blank">
          <img
            src="./img/contact-icons/instagram-45.png"
            alt="Instagram Icon"
            class="navIconImg"
          />
        </a>
        <a href="https://github.com/TouXLor" target="_blank">
          <img
            src="./img/contact-icons/github-47.png"
            alt="GitHub Icon"
            class="navIconImg"
          />
        </a>
        <a href="www.linkedin.com/in/tou-xiong-lor" target="_blank">
          <img
            src="./img/contact-icons/linkedin-circled-4.png"
            alt="GitHub Icon"
            class="navIconImg"
          />
        </a>
      </div>
    </nav>

    <!-- HERO -->
    <section class="hero">
      <!-- BACKGROUND: two identical tracks for a seamless loop -->
      <div class="bg-slices">
        <div
          class="wedge w1"
          data-images='["/img/exp_thumbnails/treasureLogo.png","/img/cat-2.webp","/img/cat-3.webp"]'
          data-interval="6500"
          data-delay="0"
        ></div>

        <div
          class="wedge w2"
          data-images='["/img/banana-1.webp","/img/banana-2.webp","/img/banana-3.webp"]'
          data-interval="7200"
          data-delay="500"
        ></div>

        <div
          class="wedge w3"
          data-images='["/img/googly-1.webp","/img/googly-2.webp"]'
          data-interval="5800"
          data-delay="900"
        ></div>

        <div
          class="wedge w4"
          data-images='["/img/hamster-1.webp","/img/hamster-2.webp","/img/hamster-3.webp"]'
          data-interval="8000"
          data-delay="1200"
        ></div>
      </div>

      <!-- FOREGROUND: your name marquee -->
      <div class="focus-point">
        <div class="name-ticker" aria-label="Tou Xiong Lor marquee">
          <!-- track A -->
          <div class="track">
            <span>Tou Xiong Lor</span>
            <span>Tou Xiong Lor</span>
            <span>Tou Xiong Lor</span>
            <span>Tou Xiong Lor</span>
            <span>Tou Xiong Lor</span>
          </div>

          <!-- track B (duplicate) -->
          <div class="track" aria-hidden="true">
            <span>Tou Xiong Lor</span>
            <span>Tou Xiong Lor</span>
            <span>Tou Xiong Lor</span>
            <span>Tou Xiong Lor</span>
            <span>Tou Xiong Lor</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Bio Section -->
    <div class="bio" id="bio">
      <div class="bio-paragraph">
        <p>
          Hi there! I’m Tou, a passionate and adaptable designer with a strong
          background in UI/UX and Web development. I enjoy creating engaging
          digital experiences that feel intuitive and meaningful. Whether I’m
          building responsive websites, crafting wireframes in Figma, or
          bringing a concept to life through code, I love finding creative ways
          to solve problems and connect with users. Collaboration and thoughtful
          design are at the heart of everything I do.
        </p>
        <!-- Download Resume Section -->
        <div class="resume-section" style="text-align: center; margin: 2rem 0">
          <a
            href="/Tou_Xiong_Lor_Resume_2025-compressed.pdf"
            download
            class="resume-download-btn"
            >Download My Resume (PDF)</a
          >
        </div>
      </div>
      <div class="picture-me">
        <img
          src="./img/headShotTranparent.png"
          alt="picture of Tou Xiong Lor"
        />
      </div>
    </div>

    <!-- Education Section -->
    <div class="education">
      <h1 class="education-header">Education</h1>
      <div class="education-item">
        <h2 class="education-title">University of Wisconsin-Madison</h2>
        <p class="education-degree">
          Bachelor of Science in Information Science<br />
          Certification in Computer Science
        </p>
        <p class="education-date">May 2025</p>
      </div>
    </div>

    <!-- Skills Section -->
    <h1 class="skill-header">Skills</h1>
    <table class="skill-table">
      <tr>
        <th>
          <img src="./img/skill-icons/icons8-java-48.png" alt="java icon" />
          <p>Java</p>
        </th>
        <th>
          <img src="./img/skill-icons/icons8-javascript-64.png" alt="js icon" />
          <p>JavaScript</p>
        </th>
        <th>
          <img src="./img/skill-icons/icons8-html-48.png" alt="html icon" />
          <p>HTML</p>
        </th>
        <th>
          <img src="./img/skill-icons/icons8-css-100.png" alt="css icon" />
          <p>CSS</p>
        </th>
        <th>
          <img src="./img/skill-icons/icons8-react-24.png" alt="react icon" />
          <p>React</p>
        </th>
        <th>
          <img src="./img/skill-icons/icons8-figma-48.png" alt="figma icon" />
          <p>Figma</p>
        </th>
        <th>
          <img src="./img/skill-icons/icons8-adobe-48.png" alt="adobe icon" />
          <p>Adobe</p>
        </th>
        <th>
          <img src="./img/skill-icons/wpLogo.png" alt="adobe icon" />
          <p>WordPress</p>
        </th>
      </tr>
    </table>

    <!-- Experience Section -->
    <div class="experience-section">
      <h1 class="experiences-header" id="experiences">Experiences</h1>
      <nav class="experience-nav">
        <button data-filter="all" class="active">All</button>
        <button data-filter="work">Profesional Work</button>
        <button data-filter="internship">Internships</button>
        <button data-filter="freelance">Freelance</button>
      </nav>

      <div class="container">
        <div id="experiences-grid" class="card-container">
          <div class="loading">Loading experience...</div>
          <!-- Cards will be dynamically inserted here -->
        </div>
      </div>
    </div>

    <!-- Project Section -->
    <!-- <h1 class="project-header" id="projects">Projects</h1>
    <ul class="project-nav" role="tablist">
      <li>
        <button type="button" data-filter="all" aria-pressed="true">All</button>
      </li>
      <li>
        <button type="button" data-filter="design">Designs</button>
      </li>
      <li><button type="button" data-filter="dev">Developments</button></li>
      <li><button type="button" data-filter="case">Case Studies</button></li>
    </ul> -->

    <!-- <div id="projects-grid" class="grid" data-state="loading"> -->
    <!-- noscript fallback -->
    <!-- <noscript>Please enable JavaScript to view projects.</noscript>
    </div> -->

    <div class="project-section">
      <h1 class="project-header" id="projects">Projects</h1>
      <nav class="project-nav">
        <button data-filter="all" class="active">All</button>
        <button data-filter="dev">Development</button>
        <button data-filter="design">Design</button>
        <button data-filter="case">Case Studies</button>
      </nav>

      <div class="container">
        <div id="projects-grid" class="card-container">
          <div class="loading">Loading projects...</div>
          <!-- Cards will be dynamically inserted here -->
        </div>
      </div>
    </div>

    <!-- <div class="container">
      <div class="card-container">
        <article class="card-article" data-category="design dev case">
          <img src="./img/cohabit.png" alt="" class="card-img" />
          <div class="card-data">
            <span class="card-description">CoHabit: Roommate Mobile App</span>
            <h2 class="card-title">UI/UX</h2>
            <button class="card-button">Learn More</button>
            <div class="card-extra">
              <p>
                As Web Design Chair, I led the redesign of our fraternity’s
                site, built responsive layouts in HTML/CSS/JS, and collaborated
                with stakeholders to improve usability and accessibility.
              </p>
            </div>
          </div>
        </article>

        <article class="card-article" data-category="design dev">
          <img src="./img/dishDive.png" alt="" class="card-img" />
          <div class="card-data">
            <span class="card-description"
              >DishDive: Recipe Sharing Website</span
            >
            <h2 class="card-title">UI/Web Design/Dev</h2>
            <button class="card-button">Learn More</button>
            <div class="card-extra">
              <p>
                As Web Design Chair, I led the redesign of our fraternity’s
                site, built responsive layouts in HTML/CSS/JS, and collaborated
                with stakeholders to improve usability and accessibility.
              </p>
            </div>
          </div>
        </article>

        <article class="card-article" data-category="design dev">
          <img src="./img/aoe.png" alt="" class="card-img" />
          <div class="card-data">
            <span class="card-description">LPHIE Website</span>
            <h2 class="card-title">Web development</h2>
            <button class="card-button">Learn More</button>
            <div class="card-extra">
              <p>
                As Web Design Chair, I led the redesign of our fraternity’s
                site, built responsive layouts in HTML/CSS/JS, and collaborated
                with stakeholders to improve usability and accessibility.
              </p>
            </div>
          </div>
        </article>

        <article class="card-article" data-category="dev">
          <img src="./img/BuckyBadger.svg.png" alt="" class="card-img" />
          <div class="card-data">
            <span class="card-description">Badger Mart</span>
            <h2 class="card-title">Web/Mobile development</h2>
            <button class="card-button">Learn More</button>
            <div class="card-extra">
              <p>
                As Web Design Chair, I led the redesign of our fraternity’s
                site, built responsive layouts in HTML/CSS/JS, and collaborated
                with stakeholders to improve usability and accessibility.
              </p>
            </div>
          </div>
        </article>
      </div>
    </div> -->

    <div id="react-root"></div>

    <script src="js/gsap.min.js"></script>
    <script src="js/home.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="js/project.js" defer></script>
    <script src="js/experience.js" defer=""></script>

    <script>
      // Respect reduced motion: show first image only and bail.
      const reduceMotion = window.matchMedia(
        "(prefers-reduced-motion: reduce)"
      ).matches;

      // Helper: preload an image
      function preload(src) {
        return new Promise((resolve) => {
          const img = new Image();
          img.onload = () => resolve(src);
          img.onerror = () => resolve(src); // still resolve to avoid stalling
          img.src = src;
        });
      }

      // Initialize all wedges
      document.querySelectorAll(".wedge").forEach(async (wedge, idx) => {
        // Create two layers
        const A = document.createElement("div");
        const B = document.createElement("div");
        A.className = "layer layerA";
        B.className = "layer layerB";
        wedge.appendChild(A);
        wedge.appendChild(B);

        // Read config
        let images = [];
        try {
          images = JSON.parse(wedge.dataset.images || "[]");
        } catch {}
        if (images.length === 0) return;

        const interval = parseInt(wedge.dataset.interval || "6500", 10);
        const startDelay = parseInt(wedge.dataset.delay || idx * 400, 10); // stagger if not provided

        // Duplicate first image if only 1
        if (images.length === 1) images = [images[0], images[0]];

        // Preload all (optional but nice)
        await Promise.all(images.map(preload));

        // Initial state
        let i = 0; // index of current image
        let showingA = true; // which layer is visible

        A.style.backgroundImage = `url('${images[0]}')`;
        A.classList.add("show");

        // If there's at least 2 images, prep B
        if (images[1]) {
          B.style.backgroundImage = `url('${images[1]}')`;
        }

        if (reduceMotion) return; // stop here if user prefers reduced motion

        // Swap logic: set next URL on the hidden layer, then cross-fade
        function swap() {
          const front = showingA ? A : B;
          const back = showingA ? B : A;

          i = (i + 1) % images.length;
          const nextSrc = images[i];

          // Preload the next image before flipping
          preload(nextSrc).then(() => {
            back.style.backgroundImage = `url('${nextSrc}')`;
            front.classList.remove("show");
            back.classList.add("show");
            showingA = !showingA;
          });
        }

        // Start with a delay so wedges are desynchronized
        setTimeout(() => {
          swap(); // do one swap after delay
          setInterval(swap, interval);
        }, startDelay);
      });
    </script>

    <script type="text/babel">
      const { useState, useEffect } = React;

      let openModalExternally;

      function MyModal() {
        const [modal, setModal] = useState(false);

        // Expose the function globally
        useEffect(() => {
          openModalExternally = () => setModal(true);
        }, []);

        const toggleModal = () => setModal(!modal);
        console.log("Modal state:", modal);

        return (
          <>
            {modal && (
              <div className="modal">
                <div className="overlay" onClick={toggleModal}></div>
                <div className="modal-content">
                  <h2>Hello Modal</h2>
                  <p>skirtt</p>
                  <button onClick={toggleModal}>Close</button>
                </div>
              </div>
            )}
          </>
        );
      }
      // Mount React component
      const root = ReactDOM.createRoot(document.getElementById("react-root"));
      root.render(<MyModal />);
    </script>
  </body>
</html>
